<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Slope Graph with Inequalities</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; text-align: center; }
    .container { max-width: 800px; margin: auto; }
    input, button { padding: 10px; margin: 10px 5px; }
    #graph-container { width: 100%; height: 400px; margin-top: 20px; }
    .result { margin-top: 20px; }
  </style>
</head>
<body>
  <div class="container">
    <h1>Slope Graph with Inequalities</h1>
    <p>Enter equations or inequalities in the form <code>y &lt; mx + b</code> or <code>y &ge; mx + b</code>:</p>
    <div>
      <input type="text" id="equation1" placeholder="e.g., y < 2x + 3">
      <input type="text" id="equation2" placeholder="e.g., y >= -x + 1">
      <button onclick="plotGraph()">Plot Graph</button>
    </div>
    <div id="graph-container">
      <canvas id="slopeGraph"></canvas>
    </div>
    <div class="result" id="result"></div>
  </div>

  <script>
    const ctx = document.getElementById('slopeGraph').getContext('2d');
    let chart;

    function parseEquation(equation) {
      // Extract inequality, slope (m), and intercept (b)
      const match = equation.match(/y\s*(<|>|<=|>=)\s*([+-]?\d*\.?\d*)x\s*([+-]?\s*\d*\.?\d*)?/i);
      if (!match) return null;

      const inequality = match[1]; // Inequality symbol
      const m = parseFloat(match[2]) || 0; // Slope (m)
      const b = parseFloat(match[3]?.replace(/\s+/g, '') || 0); // Intercept (b)
      return { inequality, m, b };
    }

    function generateShadedRegionData(m, b, inequality, xRange = [-10, 10]) {
      const data = [];
      const yBoundary = x => m * x + b;

      for (let x = xRange[0]; x <= xRange[1]; x += 0.1) {
        const y = yBoundary(x);
        data.push({ x, y });
      }

      // Determine which side of the line to shade
      const shadeAbove = inequality === '>' || inequality === '>=';
      return { data, shadeAbove };
    }

    function plotGraph() {
      const equation1 = document.getElementById('equation1').value.trim();
      const equation2 = document.getElementById('equation2').value.trim();
      const resultDiv = document.getElementById('result');

      // Parse equations
      const line1 = parseEquation(equation1);
      const line2 = parseEquation(equation2);

      if (!line1 || !line2) {
        resultDiv.innerHTML = '<p style="color: red;">Invalid input. Please use the format "y < mx + b".</p>';
        return;
      }

      // Generate data for shaded regions
      const region1 = generateShadedRegionData(line1.m, line1.b, line1.inequality);
      const region2 = generateShadedRegionData(line2.m, line2.b, line2.inequality);

      // Determine if lines are parallel
      const areParallel = line1.m === line2.m;
      resultDiv.innerHTML = areParallel
        ? '<p style="color: green;">The lines are parallel.</p>'
        : '<p style="color: blue;">The lines are not parallel.</p>';

      // Plot graph
      if (chart) chart.destroy(); // Destroy previous chart
      chart = new Chart(ctx, {
        type: 'scatter',
        data: {
          datasets: [
            {
              label: `Line 1: ${equation1}`,
              data: region1.data,
              borderColor: 'red',
              showLine: true,
              fill: region1.shadeAbove ? '+1' : '-1', // Fill above or below
              backgroundColor: 'rgba(255, 0, 0, 0.2)',
            },
            {
              label: `Line 2: ${equation2}`,
              data: region2.data,
              borderColor: 'blue',
              showLine: true,
              fill: region2.shadeAbove ? '+1' : '-1', // Fill above or below
              backgroundColor: 'rgba(0, 0, 255, 0.2)',
            },
          ],
        },
        options: {
          scales: {
            x: { type: 'linear', position: 'bottom', title: { display: true, text: 'X' } },
            y: { title: { display: true, text: 'Y' } },
          },
        },
      });
    }
  </script>
</body>
</html>
